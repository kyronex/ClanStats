<style>
#clan-info-table th:first-child { width: 30%; }
#clan-info-table .members-table { font-size: 0.9rem; }
</style>

<div class="container mt-5">
    <table id="clan-info-table" class="table table-striped">
        <thead>
            <tr>
                <th colspan="2">Informations du Clan</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>Nom</th>
                <td>{{ clan.name }}</td>
            </tr>
            <tr>
                <th>Tag</th>
                <td>{{ clan.tag }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ clan.description }}</td>
            </tr>
            <tr>
                <th>Nombre de membres</th>
                <td>{{ clan.members }}</td>
            </tr>
            <tr>
                <th>Score</th>
                <td>{{ clan.clanScore|number_format }}</td>
            </tr>
            <tr>
                <th>Donations par semaine</th>
                <td>{{ clan.donationsPerWeek|number_format }}</td>
            </tr>
            <tr>
                <th>Statut</th>
                <td>{{ clan.type }}</td>
            </tr>
            <tr>
                <th>Trophées requis</th>
                <td>{{ clan.requiredTrophies|number_format }}</td>
            </tr>
            <tr>
                <th>Score de la guerre</th>
                <td>{{ clan.clanWarTrophies|number_format }}</td>
            </tr>
            <tr>
                <td>
                    <button 
                        class="btn btn-sm btn-primary"
                        data-action="clanInfo#togglerShow" 
                        data-target-toggler="membersClan_{{ clan.tag }}">
                        +
                    </button>
                </td>
                <td>Membres du clan</td>
            </tr>
            <tr id="membersClan_{{ clan.tag }}" hidden>
                <td colspan="2">
                    <table class="table table-sm members-table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Tag</th>
                                <th>Niveau</th>
                                <th>Trophées</th>
                                <th>Rôle</th>
                                <th>Rang</th>
                                <th>Rang Précédent</th>
                                <th>Dons</th>
                                <th>Dons reçus</th><th>Dernière Connexion</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for member in clan.membersList %}
                            <tr>
                                <td>{{ member.name }}</td>
                                <td>{{ member.tag }}</td>
                                <td>{{ member.expLevel }}</td>
                                <td>{{ member.trophies|number_format }}</td>
                                <td>{{ member.role }}</td>
                                <td>{{ member.clanRank }}</td>
                                <td>{{ member.previousClanRank }}</td>
                                <td>{{ member.donations|number_format }}</td>
                                <td>{{ member.donationsReceived|number_format }}</td>
                                <td>{{ member.lastSeen }}</td>
                            </tr>    
                            {% endfor %}
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
</div>
